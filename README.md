# coursework
Поиск фигуры с максимальным числом точек внутри и на границах

# Введение 
Для поиска фигуры будет использоваться последовательный перебор всех
точек с поэтапной проверкой. Для определения фигуры будут использоваться
математические модели описания прямых и окружностей на плоскости.
Аналогично и с последующим определением принадлежности точки фигуре.
Причём программа должна отсекать ненужный мусор в строках при его
наличии(буквы, пробелы, лишние цифры).

# Формулировка задания 
Дано N произвольных точек на плоскости. Найти среди них точки, являющиеся
вершинами (образующими) фигур, с максимальным числом точек во
внутренней области.

# Анализ задания 
Необходимо реализовать считывание с отсеканием букв и лишних цифр. Для
этого производится посимвольное считывание (включая пробелы и переходы на
следующую строку) и анализ с рассмотрением всех возможных случаев, а
именно:
- только 2 числа и это полное соответствие 2-м ожидаемым координатам
- всего 1 число и это ошибочная ситуация нехватки координат для очередной
точки
- чисел больше 2-х и надо считывать только первые 2 числа с пропуском
оставшихся до конца строки
- чисел 2 или больше с возможным текстом и надо считывать только первые 2
числа с пропуском всех оставшихся символов до конца строки
- возможны пустые строки
Для учёта всех возможных ситуаций ведётся подсчёт символов определённого
вида в одной строке (число цифр, разделённых пробелами; число букв в строке;
число пробелов). Для построения фигуры потребуется 6 точек – 4 вершины
прямоугольника и 2 центра отсекаемых полуокружностей. Для определения
области фигуры необходимо совместить область внутри прямоугольника и за
пределами окружностей, центры которых лежат на серединах боковых сторон
прямоугольника.
Рассмотрим следующую фигуру.![image](https://github.com/Kitores/coursework/assets/103327413/352af3f0-841f-452f-bdb7-d71ec7ed3e17)
 Её координаты
((3,2)(1,4)(6,5)(4,7)(2,3)(5,6)). Возьмём для примера точки
(3,4) и (2.5, 3.5) – обе лежат в области прямоугольника, но одна на
окружности, а другая внутри, а значит не подходит

# Математическая постановка задачи
Исходные данные

Дана фигура ![image](https://github.com/Kitores/coursework/assets/103327413/39a25f06-1c0f-4d14-9986-26bae329196e).
Имеется неидельный исходный файл с
координатам точек. Необходимо организовать считывание с отсечением
мусора. Найти все фигуры которые можно составить по точкам из файла.
Найти фигуры с максимальным числом точек в области.

Ограничения на исходные данные

Программой предусмотрено максимум до 100 фигур (ограничение наложенное
на динамический массив) и не более 1500 строк во входном файле.
Поиск фигур
Определение прямоугольника происходит по признаку перпендикулярности
прямых, образующих его.
Перебирая все точки программа вычисляет коэффициенты k для прямых
построенных по двум точкам и ищет такие пары\, произведение угловых
коэффициентов которых равно -1, что и означает их перпендикулярность.
Коэффициент k находится по формуле k= (y₂ - y₁) / (x₂ - x₁). В случае если
прямая параллельна одной из осей её коэффициент считается неверно в силу
особенностей программных вычислений, поэтому этот случай был рассмотрен
отдельно: Если прямая параллельна оси X – её коэффициент приравнивается к
0.001;Если прямая параллельна оси Y – её коэффициент приравнивается к-1000.
Так как при перемножении эти числа так же дают -1. Прямоугольник
фиксируется соответственно если находятся 4 перпендикулярных прямых.
Далее подбираются ещё две точки – центры полуокружностей, которые должны
лежать на середине двух противоположных сторонах прямоугольника.
Координаты найденной фигуры записываются в трёхмерный массив

Проверка принадлежности точек найденной фигуре

Для каждой фигуры производится перебор всех точек. Сначала определяется
принадлежность прямоугольнику при помощи формулы прямой проходящей
через две точки![image](https://github.com/Kitores/coursework/assets/103327413/7ee77d85-72bf-431f-adda-52cc4923fb0c)
, которая используется 4 раза. Так как нам известно,
что точка лежит в прямоугольнике, остаётся только определить что она
находится за пределами окружностей чтобы высечь требуемую по заданию
область внутри прямоугольника. Для этого необходимо воспользоваться
уравнением окружности R^2=(x-x₀)2+(y-y₀)2, где x₀ и y₀ координаты центра.

Поиск фигуры с максимальным количеством точек в области

Во время работы функции отвечающей за поиск точек лежащих в фигуре при
каждой новой точке инкрементируется счётчик находящийся в специальной
ячейке массива найденных фигур, хранящего их координаты.
Фунция поиска максимума перебирает все фигуры поочерёдно и определяет
максимальное количество точек в области путём сравнения текущего значения
с найденным максимумом. Затем повторно перебирая фигуры выводит на экран
те, чьё количество точек в области оказалось максимальным.

Я организовал считывание поэтапно. Сначала, проходясь по всем символам,
функция Prohod_1 переписывает из исходного файла in.txt в промежутчный
floatpoints.txt, отсекая только лишние цифры и буквы (оставляя переходы на
новую строку). Затем функция Prohod_2 при помощи бесконечного цикла
while(true){} перебирает числа уже в файле floatpoints.txt в режиме пропуска
пробелов(“FILENAME”.setf(ios :: skipws)) и если в выполняется !( 1 число, а за
ним следует переход на следующую строку(“FILENAME”.peek() == ‘\n’)) - оно
число записывается в файл points.txt – завершающий этап считывания.
Перебирая значения в этом файле функция ZapolnenieMassiva записывает в
двумерный динамический массив Points[][] на m строк(число определённое в
результате работы функции Prohod_1).

# Поиск фигур

Функция FigureSearching при помощи 6 вложенных циклов for() (так как
именно по 6 точкам задаётся моя фигура) ищет сначала прямоугольники, а
затем центры высекаемых полуокружностей, согласно математической модели
описанной выше. В случае если рассматриваемая точка не соответствует
условиям задающим фигуру текущий цикл for переходит к следующей
итерации при помощи continue.

Определение принадлежности точки фигуре

Функция CountFigures перебирает все найденные фигуры и при помощи
формул ![image](https://github.com/Kitores/coursework/assets/103327413/ec873a8a-8648-46b5-8d71-ca8ac3fc183a)
определяет сначала лежит ли точка в
прямоугольнике, затем проверяет находится ли она за пределами окружностей
и считает для каждой фигуры число точек.

Поиск фигуры с наибольшим числом точек в области

Функция MaxPoints перебирая все фигуры в цикле for путём сравнения
текущего и максимального значения ищет ту, в которой больше всего точек, а
затем выводит в итоговый файл фигуры с этим числом точек.
